---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.8.0
  creationTimestamp: null
  name: mailhoginstances.mailhog.operators.patrick.mx
spec:
  group: mailhog.operators.patrick.mx
  names:
    kind: MailhogInstance
    listKind: MailhogInstanceList
    plural: mailhoginstances
    singular: mailhoginstance
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.image
      name: Image
      type: string
    - jsonPath: .spec.replicas
      name: Replicas
      type: integer
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: MailhogInstance is the Schema for the mailhoginstances API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: MailhogInstanceSpec defines the desired state of MailhogInstance
            properties:
              backingResource:
                default: deployment
                description: BackingResource controls if a deploymentConfig or deployment
                  is used
                enum:
                - deployment
                - deploymentConfig
                type: string
              image:
                default: mailhog/mailhog:latest
                description: Image is the mailhog image to be used
                minLength: 4
                type: string
              replicas:
                default: 1
                description: Replicas is the count of pods to create
                format: int32
                maximum: 10
                minimum: 0
                type: integer
              settings:
                default:
                  storage: memory
                description: Settings are mailhog configuration options, see https://github.com/mailhog/MailHog/blob/master/docs/CONFIG.md
                properties:
                  corsOrigin:
                    description: CorsOrigin if set, this value is added into the Access-Control-Allow-Origin
                      header returned by the API
                    nullable: true
                    type: string
                  files:
                    description: Files that configure more in-depth settings that
                      require an additional configmap
                    nullable: true
                    properties:
                      smtpUpstreams:
                        description: SmtpUpstreams Intercepted emails can be forwarded
                          to upstreams via the UI
                        items:
                          properties:
                            email:
                              description: Email the target Email address where the
                                mail will be resent to
                              minLength: 4
                              type: string
                            host:
                              description: Host SMTP target Host hostname
                              minLength: 2
                              type: string
                            mechanism:
                              description: Mechanism the SMTP login Mechanism used.
                                This is _required_ when providing upstream user /
                                password credentials
                              enum:
                              - PLAIN
                              - CRAMMD5
                              minLength: 4
                              nullable: true
                              type: string
                            name:
                              description: Name the Name this server will be shown
                                under in the UI
                              minLength: 2
                              type: string
                            password:
                              description: Password the Password used for SMTP authentication
                              nullable: true
                              type: string
                            port:
                              description: Port SMTP target Port
                              minLength: 2
                              type: string
                            save:
                              default: true
                              description: Save is an option provided for compat reasons
                                with mailhogs struct, just set it to true
                              type: boolean
                            username:
                              description: Username the Username used for SMTP authentication
                              nullable: true
                              type: string
                          type: object
                        nullable: true
                        type: array
                      webUsers:
                        description: WebUsers If WebUsers are defined, UI/API Access
                          will be protected with basic auth
                        items:
                          properties:
                            name:
                              description: Name is the username
                              minLength: 2
                              type: string
                            passwordHash:
                              description: PasswordHash is the bcrypt hash of the
                                user's password
                              minLength: 3
                              type: string
                          type: object
                        nullable: true
                        type: array
                    type: object
                  hostname:
                    description: Hostname is the hostname for smtp ehlo/helo
                    format: hostname
                    nullable: true
                    type: string
                  jim:
                    description: Jim is the chaos monkey
                    nullable: true
                    properties:
                      accept:
                        description: Accept Chance of accepting an incoming connection
                          (float, eg "0.99")
                        nullable: true
                        type: string
                      disconnect:
                        description: Disconnect Chance of randomly disconnecting a
                          session (float, eg "0.005")
                        nullable: true
                        type: string
                      invite:
                        default: false
                        description: Invite set to true activates jim using the default
                          values (see mh doc)
                        nullable: true
                        type: boolean
                      linkspeedAffect:
                        description: LinkspeedAffect Chance of applying a rate limit
                          (float, eg "0.1")
                        nullable: true
                        type: string
                      linkspeedMax:
                        description: LinkspeedMax Maximum link speed (in bytes per
                          second, eg "10240")
                        nullable: true
                        type: string
                      linkspeedMin:
                        description: LinkspeedMin Minimum link speed (in bytes per
                          second, eg "1024")
                        nullable: true
                        type: string
                      rejectAuth:
                        description: RejectAuth Chance of rejecting an AUTH command
                          (float, eg "0.05")
                        nullable: true
                        type: string
                      rejectRecipient:
                        description: RejectRecipient Chance of rejecting a RCPT TO
                          command (float, eg "0.05")
                        nullable: true
                        type: string
                      rejectSender:
                        description: RejectSender Chance of rejecting a MAIL FROM
                          command (float, eg "0.05")
                        nullable: true
                        type: string
                    type: object
                  storage:
                    default: memory
                    description: Storage which storage backend to use, eg memory
                    enum:
                    - memory
                    - maildir
                    - mongodb
                    type: string
                  storageMaildir:
                    description: StorageMaildir is only used when storage is set to
                      maildir
                    nullable: true
                    properties:
                      path:
                        description: Path Maildir path (for maildir storage backend)
                        minLength: 3
                        nullable: true
                        pattern: ^(/)([\S]+(/)?)+$
                        type: string
                    type: object
                  storageMongoDb:
                    description: StorageMongoDb are only used when storage is set
                      to mongodb
                    nullable: true
                    properties:
                      collection:
                        description: Collection MongoDB collection name for message
                          storage
                        minLength: 2
                        nullable: true
                        pattern: ^[\w-_]+$
                        type: string
                      db:
                        description: Db MongoDB database name for message storage
                        minLength: 2
                        nullable: true
                        pattern: ^[\w-_]+$
                        type: string
                      uri:
                        description: URI MongoDB host and port
                        format: uri
                        minLength: 3
                        nullable: true
                        pattern: ^(mongodb:(?:\/{2})?)((\w+?):(\w+?)@|:?@?)(\w+?):(\d+).*$
                        type: string
                    type: object
                type: object
              webTrafficInlet:
                default: none
                description: WebTrafficInlet defines how the webinterface is exposed
                enum:
                - none
                - route
                type: string
            type: object
          status:
            description: Status last observed status
            nullable: true
            properties:
              labelSelector:
                description: LabelSelector is the labelselector which can be used
                  by HPA
                nullable: true
                type: string
              podCount:
                description: PodCount is the amount of last seen pods belonging to
                  this cr
                nullable: true
                type: integer
              pods:
                description: Pods all the podnames owned by the cr
                items:
                  type: string
                nullable: true
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      scale:
        labelSelectorPath: .status.labelSelector
        specReplicasPath: .spec.replicas
        statusReplicasPath: .status.podCount
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
