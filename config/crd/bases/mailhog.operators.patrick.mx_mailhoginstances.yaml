---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.8.0
  creationTimestamp: null
  name: mailhoginstances.mailhog.operators.patrick.mx
spec:
  group: mailhog.operators.patrick.mx
  names:
    kind: MailhogInstance
    listKind: MailhogInstanceList
    plural: mailhoginstances
    singular: mailhoginstance
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.image
      name: Image
      type: string
    - jsonPath: .spec.replicas
      name: Replicas
      type: integer
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: MailhogInstance is the Schema for the mailhoginstances API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: MailhogInstanceSpec defines the desired state of MailhogInstance
            properties:
              image:
                default: mailhog/mailhog:latest
                description: Image is the mailhog image to be used
                minLength: 4
                type: string
              replicas:
                default: 1
                description: Replicas is the count of pods to create
                format: int32
                maximum: 10
                minimum: 0
                type: integer
              settings:
                default:
                  storage: memory
                description: Settings are mailhog configuration options, see https://github.com/mailhog/MailHog/blob/master/docs/CONFIG.md
                properties:
                  corsOrigin:
                    description: CorsOrigin if set, this value is added into the Access-Control-Allow-Origin
                      header returned by the API
                    type: string
                  hostname:
                    description: Hostname is the hostname for smtp ehlo/helo
                    type: string
                  storage:
                    default: memory
                    description: Storage which storage backend to use, eg memory
                    enum:
                    - memory
                    - maildir
                    - mongodb
                    type: string
                  storageMaildir:
                    description: StorageMaildir is only used when storage is set to
                      maildir
                    properties:
                      path:
                        description: Path Maildir path (for maildir storage backend)
                        type: string
                    type: object
                  storageMongoDb:
                    description: StorageMongoDb are only used when storage is set
                      to mongodb
                    properties:
                      collection:
                        description: Collection MongoDB collection name for message
                          storage
                        type: string
                      db:
                        description: Db MongoDB database name for message storage
                        type: string
                      uri:
                        description: Uri MongoDB host and port
                        type: string
                    type: object
                type: object
              webTrafficInlet:
                default: none
                description: WebTrafficInlet defines how the webinterface is exposed
                enum:
                - none
                - route
                type: string
            type: object
          status:
            description: MailhogInstanceStatus defines the observed state of MailhogInstance
            properties:
              labelSelector:
                description: LabelSelector is the labelselector which can be used
                  by HPA
                type: string
              podCount:
                description: PodCount is the amount of last seen pods belonging to
                  this cr
                type: integer
              pods:
                description: Pods all the podnames owned by the cr
                items:
                  type: string
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      scale:
        labelSelectorPath: .status.labelSelector
        specReplicasPath: .spec.replicas
        statusReplicasPath: .status.podCount
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
